import React, { useState, useEffect } from 'react';
import { ChevronDown, Mail, Phone, MapPin, Briefcase, Code, Sparkles, ArrowRight, Linkedin, ExternalLink, Star, Zap, Target, Users, Database, Layers, Cpu, PenTool } from 'lucide-react';

const ModernPortfolio = () => {
  const [isScrolled, setIsScrolled] = useState(false);
  const [activeSection, setActiveSection] = useState('home');

  useEffect(() => {
    const handleScroll = () => {
      setIsScrolled(window.scrollY > 50);
      
      const sections = ['home', 'about', 'skills', 'experience', 'projects', 'contact'];
      const scrollPosition = window.scrollY + 100;
      
      sections.forEach(section => {
        const element = document.getElementById(section);
        if (element) {
          const offsetTop = element.offsetTop;
          const height = element.offsetHeight;
          if (scrollPosition >= offsetTop && scrollPosition < offsetTop + height) {
            setActiveSection(section);
          }
        }
      });
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const scrollToSection = (sectionId) => {
    const element = document.getElementById(sectionId);
    if (element) {
      element.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  };

  const skills = [
    { name: 'Industrial Automation', level: 95, icon: <Zap className="w-5 h-5" /> },
    { name: 'SCADA Development', level: 90, icon: <Code className="w-5 h-5" /> },
    { name: 'Process Control', level: 88, icon: <Target className="w-5 h-5" /> },
    { name: 'Team Leadership', level: 85, icon: <Users className="w-5 h-5" /> },
  ];

  const experiences = [
    {
      title: "SCADA Manager",
      company: "Tech Solutions Ltd.",
      period: "2021 - Present",
      description: "Leading SCADA development projects and managing cross-functional teams"
    },
    {
      title: "Senior Automation Engineer",
      company: "Industrial Dynamics",
      period: "2019 - 2021",
      description: "Developed complex automation solutions for automotive sector"
    },
    {
      title: "Machine Operator",
      company: "Manufacturing Corp",
      period: "2018 - 2019",
      description: "Started journey in industrial automation and process optimization"
    }
  ];

  const projects = [
    {
      title: "Smart Factory Dashboard",
      description: "Real-time monitoring system with predictive analytics for manufacturing excellence",
      tech: ["Ignition", "Python", "SQL", "React"],
      highlight: "Enterprise Solution"
    },
    {
      title: "Automated Quality Control System",
      description: "Vision-based quality inspection system with machine learning integration",
      tech: ["SCADA", "Vision Systems", "PLC", "AI"],
      highlight: "Innovation Award"
    },
    {
      title: "Energy Management Platform",
      description: "IoT-based energy monitoring and optimization solution for industrial facilities",
      tech: ["IoT", "Data Analytics", "HMI", "Dashboard"],
      highlight: "Cost Reduction"
    }
  ];

  const techLogos = [
    { name: 'Ignition', icon: <Cpu className="w-6 h-6" /> },
    { name: 'SCADA', icon: <Layers className="w-6 h-6" /> },
    { name: 'MES', icon: <Target className="w-6 h-6" /> },
    { name: 'React', icon: <Code className="w-6 h-6" /> },
    { name: 'Database', icon: <Database className="w-6 h-6" /> },
    { name: 'Python', icon: <Zap className="w-6 h-6" /> },
    { name: 'Inkscape', icon: <PenTool className="w-6 h-6" /> },
  ];

  return (
    <div className="min-h-screen bg-black text-white overflow-x-hidden">
      <style jsx>{`
        /* Intense Dark Background with Dense Smoke */
        .portfolio-bg {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: 
            radial-gradient(circle at 25% 25%, #1b4332 0%, transparent 50%),
            radial-gradient(circle at 75% 75%, #2d6a4f 0%, transparent 50%),
            radial-gradient(circle at 50% 50%, #0f1419 0%, #000000 100%);
          z-index: -2;
        }

        .smoke-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: 
            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><filter id="noiseFilter"><feTurbulence type="fractalNoise" baseFrequency="0.05" numOctaves="4" seed="1"/><feColorMatrix type="saturate" values="0"/></filter></defs><rect width="100%" height="100%" filter="url(%23noiseFilter)" opacity="0.8"/></svg>'),
            url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><defs><filter id="noiseFilter2"><feTurbulence type="turbulence" baseFrequency="0.02" numOctaves="3" seed="5"/><feColorMatrix type="saturate" values="0"/></filter></defs><rect width="100%" height="100%" filter="url(%23noiseFilter2)" opacity="0.6"/></svg>');
          background-size: 400px 400px, 800px 800px;
          animation: smokeMove 20s linear infinite, smokeMove2 15s linear infinite reverse;
          opacity: 0.4;
          z-index: -1;
          pointer-events: none;
        }

        @keyframes smokeMove {
          0% { transform: translate(0, 0); }
          100% { transform: translate(-100px, -100px); }
        }

        @keyframes smokeMove2 {
          0% { background-position: 0 0, 0 0; }
          100% { background-position: 100px 100px, -200px 50px; }
        }

        /* Navigation */
        .nav-glass {
          background: rgba(0, 0, 0, 0.8);
          backdrop-filter: blur(20px);
          border-bottom: 1px solid rgba(45, 106, 79, 0.3);
          transition: all 0.3s ease;
        }

        .nav-glass.scrolled {
          background: rgba(0, 0, 0, 0.95);
          border-bottom-color: rgba(45, 106, 79, 0.5);
        }

        /* Tech Marquee */
        .tech-marquee {
          background: rgba(27, 67, 50, 0.1);
          border-bottom: 1px solid rgba(45, 106, 79, 0.2);
          overflow: hidden;
          white-space: nowrap;
          padding: 0.8rem 0;
        }

        .marquee-content {
          display: inline-flex;
          align-items: center;
          animation: scroll 30s linear infinite;
        }

        .marquee-item {
          display: flex;
          align-items: center;
          margin: 0 2rem;
          color: #2d6a4f;
          font-weight: 500;
          gap: 0.5rem;
        }

        @keyframes scroll {
          0% { transform: translateX(100%); }
          100% { transform: translateX(-100%); }
        }

        /* Glass Cards - Simple and Clean */
        .glass-card {
          background: rgba(0, 0, 0, 0.6);
          backdrop-filter: blur(10px);
          border: 1px solid rgba(45, 106, 79, 0.2);
          border-radius: 16px;
          padding: 2rem;
          transition: border-color 0.3s ease;
        }

        .glass-card:hover {
          border-color: rgba(45, 106, 79, 0.4);
        }

        /* Buttons */
        .btn-primary {
          background: linear-gradient(135deg, #2d6a4f, #1b4332);
          color: white;
          border: none;
          border-radius: 50px;
          padding: 1rem 2rem;
          font-weight: 600;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .btn-primary:hover {
          background: linear-gradient(135deg, #40916c, #2d6a4f);
          transform: translateY(-2px);
        }

        /* Navigation Links */
        .nav-link {
          color: #95d5b2;
          padding: 0.5rem 1rem;
          border-radius: 25px;
          transition: all 0.3s ease;
          cursor: pointer;
        }

        .nav-link:hover {
          background: rgba(45, 106, 79, 0.2);
          color: white;
        }

        .nav-link.active {
          background: rgba(45, 106, 79, 0.3);
          color: white;
        }

        /* Text Colors */
        .text-bottle-green { color: #2d6a4f; }
        .text-mint { color: #95d5b2; }
        .text-light-mint { color: #b7e4c7; }

        /* Skill Bars */
        .skill-bar {
          background: rgba(45, 106, 79, 0.2);
          border-radius: 10px;
          height: 8px;
          overflow: hidden;
          margin-top: 0.5rem;
        }

        .skill-progress {
          background: linear-gradient(90deg, #2d6a4f, #52b788);
          height: 100%;
          border-radius: 10px;
          transition: width 0.8s ease;
        }

        /* Contact Items */
        .contact-item {
          display: block;
          color: inherit;
          text-decoration: none;
          transition: transform 0.3s ease;
        }

        .contact-item:hover {
          transform: translateX(8px);
        }

        /* Project Cards */
        .project-card {
          height: 100%;
          display: flex;
          flex-direction: column;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .glass-card {
            padding: 1.5rem;
            margin: 0 1rem;
          }
          
          .tech-marquee {
            display: none;
          }
        }

        /* Remove any unwanted animations */
        * {
          animation-duration: 0.3s !important;
        }

        .no-animate {
          animation: none !important;
          transform: none !important;
        }
      `}</style>

      {/* Background */}
      <div className="portfolio-bg"></div>
      <div className="smoke-overlay"></div>

      {/* Tech Marquee */}
      <div className="tech-marquee">
        <div className="marquee-content">
          {[...techLogos, ...techLogos].map((tech, index) => (
            <div key={index} className="marquee-item">
              {tech.icon}
              <span>{tech.name}</span>
            </div>
          ))}
        </div>
      </div>

      {/* Navigation */}
      <nav className={`fixed top-0 left-0 right-0 z-50 nav-glass ${isScrolled ? 'scrolled' : ''}`}>
        <div className="max-w-6xl mx-auto px-6 py-4">
          <div className="flex justify-between items-center">
            <h1 className="text-2xl font-bold text-mint">Hrishikesh Bharadwaj</h1>
            <div className="hidden md:flex space-x-1">
              {['Home', 'About', 'Skills', 'Experience', 'Projects', 'Contact'].map((item) => (
                <button
                  key={item}
                  onClick={() => scrollToSection(item.toLowerCase())}
                  className={`nav-link ${activeSection === item.toLowerCase() ? 'active' : ''}`}
                >
                  {item}
                </button>
              ))}
            </div>
          </div>
        </div>
      </nav>

      {/* Hero Section */}
      <section id="home" className="min-h-screen flex items-center justify-center pt-20">
        <div className="max-w-6xl mx-auto px-6 text-center">
          <h1 className="text-6xl md:text-8xl font-bold mb-6">
            <span className="text-mint">Hi, I'm</span>
            <br />
            <span className="text-white">Hrishikesh</span>
          </h1>
          
          <p className="text-2xl md:text-3xl mb-4 text-bottle-green font-medium">
            üåø Industrial Automation Engineer
          </p>
          <p className="text-xl mb-8 max-w-3xl mx-auto text-light-mint">
            6+ Years of Excellence in SCADA Development & Industrial Process Control
          </p>

          <button 
            className="btn-primary inline-flex items-center gap-2"
            onClick={() => scrollToSection('contact')}
          >
            Let's Work Together
            <ArrowRight className="w-5 h-5" />
          </button>

          <div className="mt-12">
            <ChevronDown className="w-6 h-6 text-mint mx-auto animate-bounce" />
          </div>
        </div>
      </section>

      {/* About Section */}
      <section id="about" className="py-20">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold mb-4 text-mint">About Me</h2>
            <div className="w-24 h-1 bg-bottle-green mx-auto rounded"></div>
          </div>

          <div className="grid md:grid-cols-2 gap-12 items-center">
            <div className="glass-card text-center">
              <div className="w-48 h-48 mx-auto mb-8 relative">
                <div className="w-full h-full bg-gradient-to-br from-bottle-green to-mint rounded-full flex items-center justify-center text-6xl">
                  üë®‚Äçüíª
                </div>
              </div>
              
              <div className="grid grid-cols-2 gap-4">
                {[
                  { number: '6+', label: 'Years Experience' },
                  { number: 'Gold', label: 'Ignition Certified' },
                  { number: '15+', label: 'Projects Delivered' },
                  { number: '3', label: 'Languages' }
                ].map((stat, index) => (
                  <div key={index} className="glass-card p-4">
                    <div className="text-2xl font-bold text-mint mb-2">{stat.number}</div>
                    <div className="text-sm text-light-mint">{stat.label}</div>
                  </div>
                ))}
              </div>
            </div>

            <div className="glass-card">
              <p className="text-lg leading-relaxed text-light-mint mb-6">
                I'm a proficient Industrial Automation Engineer with over 6 years of specialized experience in SCADA development. My expertise lies in optimizing operational efficiency and seamlessly controlling industrial processes across automotive, life sciences, and manufacturing sectors.
              </p>
              <p className="text-lg leading-relaxed text-light-mint mb-6">
                As a Gold Ignition certified professional, I excel at tailoring innovative solutions to client needs. My journey has taken me from a Machine Operator to SCADA Manager, where I've led teams, managed complex projects, and driven organizational success through collaboration.
              </p>
              <p className="text-lg leading-relaxed text-light-mint">
                I'm passionate about pushing the boundaries of industrial automation and always eager to innovate in this rapidly evolving field.
              </p>
            </div>
          </div>
        </div>
      </section>

      {/* Skills Section */}
      <section id="skills" className="py-20">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold mb-4 text-mint">Skills & Expertise</h2>
            <div className="w-24 h-1 bg-bottle-green mx-auto rounded"></div>
          </div>

          <div className="grid md:grid-cols-2 gap-8">
            {skills.map((skill, index) => (
              <div key={index} className="glass-card">
                <div className="flex items-center mb-4">
                  <div className="text-mint mr-3">{skill.icon}</div>
                  <h3 className="text-xl font-semibold text-white flex-1">{skill.name}</h3>
                  <span className="text-mint font-bold">{skill.level}%</span>
                </div>
                <div className="skill-bar">
                  <div 
                    className="skill-progress"
                    style={{ width: `${skill.level}%` }}
                  ></div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Experience Section */}
      <section id="experience" className="py-20">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold mb-4 text-mint">Experience</h2>
            <div className="w-24 h-1 bg-bottle-green mx-auto rounded"></div>
          </div>

          <div className="space-y-8">
            {experiences.map((exp, index) => (
              <div key={index} className="glass-card">
                <div className="flex items-start justify-between mb-4">
                  <div>
                    <h3 className="text-2xl font-bold text-mint mb-2">{exp.title}</h3>
                    <p className="text-bottle-green text-lg mb-2">{exp.company}</p>
                    <p className="text-light-mint">{exp.period}</p>
                  </div>
                  <Briefcase className="w-8 h-8 text-bottle-green" />
                </div>
                <p className="text-light-mint text-lg">{exp.description}</p>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Projects Section */}
      <section id="projects" className="py-20">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold mb-4 text-mint">Featured Projects</h2>
            <div className="w-24 h-1 bg-bottle-green mx-auto rounded"></div>
          </div>

          <div className="grid md:grid-cols-3 gap-8">
            {projects.map((project, index) => (
              <div key={index} className="glass-card project-card">
                <div className="flex-1">
                  <div className="flex items-center justify-between mb-4">
                    <Sparkles className="w-8 h-8 text-mint" />
                    <span className="px-3 py-1 rounded-full text-sm bg-bottle-green/20 text-mint border border-bottle-green/30">
                      {project.highlight}
                    </span>
                  </div>
                  <h3 className="text-xl font-bold mb-3 text-mint">{project.title}</h3>
                  <p className="text-light-mint mb-4">{project.description}</p>
                  <div className="flex flex-wrap gap-2">
                    {project.tech.map((tech, techIndex) => (
                      <span key={techIndex} className="px-3 py-1 bg-black/40 text-mint rounded-full text-sm border border-mint/20">
                        {tech}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            ))}
          </div>
        </div>
      </section>

      {/* Contact Section */}
      <section id="contact" className="py-20">
        <div className="max-w-6xl mx-auto px-6">
          <div className="text-center mb-16">
            <h2 className="text-4xl font-bold mb-4 text-mint">Let's Work Together</h2>
            <div className="w-24 h-1 bg-bottle-green mx-auto rounded"></div>
          </div>

          <div className="grid md:grid-cols-2 gap-12">
            <div className="glass-card">
              <h3 className="text-2xl font-bold mb-4 text-mint">Ready to discuss your next project?</h3>
              <p className="text-light-mint text-lg mb-6">
                I'm always interested in new opportunities and exciting projects in industrial automation. 
                Let's connect and bring your automation vision to life.
              </p>
              <button className="btn-primary inline-flex items-center gap-2">
                <Star className="w-5 h-5" />
                <span>Download CV</span>
              </button>
            </div>

            <div className="space-y-6">
              {[
                { icon: <Mail className="w-6 h-6" />, title: 'Email', value: 'hrishikesh.bharadwaj0509@gmail.com', link: 'mailto:hrishikesh.bharadwaj0509@gmail.com' },
                { icon: <Phone className="w-6 h-6" />, title: 'Phone', value: '+91 95385 46750', link: 'tel:+919538546750' },
                { icon: <Linkedin className="w-6 h-6" />, title: 'LinkedIn', value: 'hrishikesh-bharadwaj-0509', link: 'https://linkedin.com/in/hrishikesh-bharadwaj-0509' },
                { icon: <MapPin className="w-6 h-6" />, title: 'Location', value: 'Bangalore, Karnataka, India', link: null }
              ].map((contact, index) => (
                <div key={index} className="glass-card">
                  {contact.link ? (
                    <a href={contact.link} target={contact.link.includes('http') ? '_blank' : '_self'} className="contact-item flex items-center space-x-4">
                      <div className="text-mint">{contact.icon}</div>
                      <div className="flex-1">
                        <h4 className="font-semibold text-white">{contact.title}</h4>
                        <p className="text-light-mint">{contact.value}</p>
                      </div>
                      {contact.link.includes('http') && <ExternalLink className="w-4 h-4 text-mint" />}
                    </a>
                  ) : (
                    <div className="flex items-center space-x-4">
                      <div className="text-mint">{contact.icon}</div>
                      <div>
                        <h4 className="font-semibold text-white">{contact.title}</h4>
                        <p className="text-light-mint">{contact.value}</p>
                      </div>
                    </div>
                  )}
                </div>
              ))}
            </div>
          </div>
        </div>
      </section>

      {/* Footer */}
      <footer className="py-8 border-t border-bottle-green/30">
        <div className="max-w-6xl mx-auto px-6 text-center">
          <p className="text-light-mint">
            ¬© 2025 Hrishikesh Bharadwaj. Crafted with ‚ù§Ô∏è and modern web technologies.
          </p>
        </div>
      </footer>
    </div>
  );
};

export default ModernPortfolio;
